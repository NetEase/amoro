ams:
  admin-username: admin
  admin-password: admin
  server-bind-host: "0.0.0.0"
  server-expose-host: "127.0.0.1"

  thrift-server:
    max-message-size: 104857600 # 100MB
    selector-thread-count: 2
    selector-queue-size: 4
    table-service:
      bind-port: 1260
      worker-thread-count: 20
    optimizing-service:
      bind-port: 1261

  http-server:
    bind-port: 1630

  refresh-external-catalogs:
    interval: 180000 # 3min

  refresh-tables:
    thread-count: 10
    interval: 60000 # 1min
    
  self-optimizing:
    commit-thread-count: 10

  optimizer:
    heart-beat-timeout: 60000 # 1min
    task-ack-timeout: 30000 # 30s

  blocker:
    timeout: 60000 # 1min

  # optional features
  expire-snapshots:
    enabled: true
    thread-count: 10

  clean-orphan-files:
    enabled: true
    thread-count: 10

  sync-hive-tables:
    enabled: true
    thread-count: 10

  database:
    type: derby
    jdbc-driver-class: org.apache.derby.jdbc.EmbeddedDriver
    url: jdbc:derby:/tmp/amoro/derby;create=true

  #  MySQL database configuration.
  #  database:
  #    type: mysql
  #    jdbc-driver-class: com.mysql.cj.jdbc.Driver
  #    url: jdbc:mysql://127.0.0.1:3306/db?useUnicode=true&characterEncoding=UTF8&autoReconnect=true&useAffectedRows=true&useSSL=false
  #    username: root
  #    password: root

  terminal:
    backend: local
    local.spark.sql.iceberg.handle-timestamp-without-timezone: false

#  Kyuubi terminal backend configuration.
#  terminal:
#    backend: kyuubi
#    kyuubi.jdbc.url: jdbc:hive2://127.0.0.1:10009/


#  High availability configuration.
#  ha:
#    enabled: true
#    cluster-name: default
#    zookeeper-address: 127.0.0.1:2181,127.0.0.1:2182,127.0.0.1:2183

containers:
  - name: localContainer
    container-impl: com.netease.arctic.optimizer.LocalOptimizerContainer
    properties:
      export.JAVA_HOME: "/opt/java"   # JDK environment

  - name: KubernetesContainer
    container-impl: com.netease.arctic.optimizer.KubernetesOptimizerContainer
    properties:
      kube-config: |
        apiVersion: v1
        clusters:
          - cluster:
              certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM1ekNDQWMrZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJek1ETXlNVEUwTkRRek9Gb1hEVE16TURNeE9ERTBORFF6T0Zvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBSzFMCno5YmpndlBtbFlMeDFHU2ZiWFZzZ29GODRDRWxSSHptWWg2UjdIRTBGUHlSSHFsd2dQQ0tvMHp5dm5rQ1Q5b2oKQm4rYmprTUdVUDdsWVI5dzBGZEF4bHg1ZTYzZndKbDJ4azRuZk9ub3kxOHdWekpWYytQRXRoRC90MnhZREYxTQpYQkxGaXB6eHo1NFBFNlhIK0w1R0dhYWg3U3RIVUhBakdUdXRJSU5ER2diSCtEMzcwZklsRTEzWDVmK0N1K24wCjBxa21KVXhyRTBSVUpXeDlLYXRJZGY0YXhUZ0xYQnpWZy9XMnh6WFAxejBnOWcrUXFNUnlubmhuNTRYcE1BR1cKa1BSUjJPb0toS1NtSXh5K055b2ViR2EzcGpuaVpBc1RPU0FYY2NNMTBhZE9iU2RLbnEzUG1VRk9CVWpnT2o3awpoUjQvM1V1T1VEZUdlUDFYQUZNQ0F3RUFBYU5DTUVBd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZKaGYrM2cvREtaN0xpM0VFd1FkMXR1Y1RUNjRNQTBHQ1NxR1NJYjMKRFFFQkN3VUFBNElCQVFCU3FZaUtlanYwVjJnb1hqRTloUjQreUdiWm8yaHlIMVNhcVNFVURhZG1pQzhQUURregpHRHFMajl5ZkplclQ2djBGQlNpSkJLVlBPakFxUE5xcC9ZdElyYU5OVTljbFI3QXZ3T3NldWtLNlBiSmhjQWErCjhpRWV4UzdSa3ROSjNONnl2Nkc5Q0ZxMzFpNzNqenNxM1hwM0xoTzBSTk9sWkVUdG01Zm5xZENFVVp0Zm5uYmsKanU2Y1RGandrM0pSMm9XbXZVSHVEU3FUMW1JQkZqS1JQV21IYTBNNWZvMkxtck8zaXhHOWF6c1FMVzBmVlRsNApFWnBPMnJGTnd3Y01YbHJXK3hQVFZNS1dyWmRBNGlOSnp6c1A1ZlJmVG5SWkFseElHMm15QWh2OFR2L0xyVXg3CnozbXAzSUNXVGJaUHRMdi9PNWcrMVhVZURUNTZyejRLQkdQVQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
              server: https://192.168.197.149:6443
            name: cluster.local
        contexts:
          - context:
              cluster: cluster.local
              user: kubernetes-admin
            name: kubernetes-admin@cluster.local
        current-context: kubernetes-admin@cluster.local
        kind: Config
        preferences: {}
        users:
          - name: kubernetes-admin
            user:
              client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURJVENDQWdtZ0F3SUJBZ0lJSEVrNTZPTURucmd3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TXpBek1qRXhORFEwTXpoYUZ3MHlOREF6TWpBeE5EUTBNemxhTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXZhcjlCSHpKT3E5ejJhWkMKdVE1SE1McEJpMG54MTBPeUJHOEpsYUVNRlZLMlJmd0NVY2h3ak84dDk3Q2VTdGRFQVlKUFlJZGp6L0hmT3RRbwpQVlAzVGc5MHN0UkQ1aU9Kc29WNEwyL2l4aUNxOHJYalFPamhjeEFNcEJ6Rk95bkd1TWJ6dHRLeVlURElaMG5yCldvSWNPUGJ3dzkrVm9oWGFVb1B1ZjhvbFZmazVMT1QreWYraW5FdnlhWlBmeU5ES0VQQTJVeXFvVEVheWNjZFIKNmROZ2VZQ0VPQ2grZ2lacVVrQUMyOFk0RVVWakhuQXpHdU56eHRnUFdpbUxwamxKY2ltck00T2VJeENRc2QwYQpzZFFKdUZYWURoUEhrVzM1U0lsOTQ4a254MnRNaEdadGg1Q043V0wxSy9wbUF6bVpNZlhqaEgxT3VYbGtuQjJLClVWdmJqUUlEQVFBQm8xWXdWREFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JTWVgvdDRQd3ltZXk0dHhCTUVIZGJibkUwKwp1REFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBTC9kRUtBUEdQK29kSENZYTlxMDVWRk9pNzZKa3FGbzB1cU9WCklXR1RxeUoreU1WUFhMaU4yZGRhRmVqK2xqSUg0SkpqeHo5RXlxUU1ieWJYSmRPTHN0V2E4K3RMNVo5ZXQyQkoKVjl2eXQ0UjhVakRrSzZlVk5oZXB4WVovSWp0V0lJTk1rV2d3aktyOUIxc2NiK0ZuOXlZbGZXWHk4d0s1bzg5RApKRDBtZlcvL1B2WGxFc0VkVmVkaThmTzE0SEVyNlZIZmJ3dG1XZVZLdVhLWnEyeEFPWXNROHNLUXRGcFRoQTNuCkIvWkRrV280Qkd5a2ptQ3Q5UFRWVDN4REo1RjdhbzRjTmpPZDUwMEtac0szRHhRZXRvbUR3V3ZJTGtxbXRJczcKajcxSWd6Z0JsUzZDQklEREZRQVc1UENpNUlJRUhzTFAwdWNROFNwZUpzaEVGa0hMNnc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
              client-key-data: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBdmFyOUJIekpPcTl6MmFaQ3VRNUhNTHBCaTBueDEwT3lCRzhKbGFFTUZWSzJSZndDClVjaHdqTzh0OTdDZVN0ZEVBWUpQWUlkanovSGZPdFFvUFZQM1RnOTBzdFJENWlPSnNvVjRMMi9peGlDcThyWGoKUU9qaGN4QU1wQnpGT3luR3VNYnp0dEt5WVRESVowbnJXb0ljT1Bid3c5K1ZvaFhhVW9QdWY4b2xWZms1TE9UKwp5ZitpbkV2eWFaUGZ5TkRLRVBBMlV5cW9URWF5Y2NkUjZkTmdlWUNFT0NoK2dpWnFVa0FDMjhZNEVVVmpIbkF6Ckd1Tnp4dGdQV2ltTHBqbEpjaW1yTTRPZUl4Q1FzZDBhc2RRSnVGWFlEaFBIa1czNVNJbDk0OGtueDJ0TWhHWnQKaDVDTjdXTDFLL3BtQXptWk1mWGpoSDFPdVhsa25CMktVVnZialFJREFRQUJBb0lCQUNRUUYrMjdnRk45T3N6ZQpkUDlVdktxQ0w2WTVXQmR6RXEwUEk4WmtpYlNnTm5JV0dhYk5Nc0ZKVlBjc2lOeDRFOEVwc3NnSzFpcWF0YlFzCjFMM2Nja0JRWmdMK295NW1BVytGT3pYaDB6K1N4STVEa1VNdFJIaXBTNDRFdm1laWFOdUhVSjJwY0N0VXFEWWoKY3ZHUm5hWWpKZUpJWjk0YXc1ays1cUU3b1YrNElHcjdETUdUM2dETk9MamZMS3E5Zjl1ZFREUkJwZkltbFdPNQpLU0d5b0xFSlJXSkd0SDUxdkV4aWN6TUMzdzhKNnFWSkUvQ09jamdSV3VpMEMrVGZtMUdUcjUwSk1VYUtiTGhyClpFYUMwUEhETVVRMmxzUUVFbmMwRmJvZmRxcytvMTFndDh6QjlEUDNHVzdCSjd3QkNwNlRNRm5DWk5DUlZZNWQKeUlyWnIwRUNnWUVBelZuWktHVThGOXZROFRrTmdHOHQxaDIvRURYODZ5UlZDeVhmQTBuaVZOUFpJVEQrRGM1QQozbkp4M052eWNnT1l4U0ttVkgzYUU0UDJpSUtWMnR2bEdFM1h3VjBxbUM5ditaVFBZdjZBVnQ5bmxjcllGWUV0CkRnb2xrTnUvQzZydUtDbG1zeGtheXcyR3drSTlLTmtBREhEWHhyM0FoRlltMEpGRHQ2NDRwOTBDZ1lFQTdITGoKNTdoTnlyWmpneEZDUnp1dUNOSUgxcU5WckNaUFlwYzdPZURONHZURkd3SjYyc1M4OU1wY3hpd1Q2UytJRGh2cwoyZitlckxIK0FGYTBaN0l6SnpIYndxcFlwYVY3MU45THRKUnRQd0lFSGY1MFcwc1lZQ0pMbFNPMVhxT1ozdVZDClR0cFNVczdkTFVRMERsSTFUZy9JOENmVmlNL2Y0TWZld1ZpK0gzRUNnWUJQbFkyeXVTRkVBZDRGVHQ0cnMycnAKTzVnTHVWQ3U5T0s4c2sydTRaaUUxYUdsMm0zcmZjN29KeVIzdXdwSUk1cTJkQXBRWG9JQTVEak1pUWQ0elpZSgpDRW9nMTNHbGoyVHZManY5bXJLMGVGcVYxQXBRczBKNTJYYmJvRDUzVUNTQ2ppRU9NaUdQSmt2ZXgzc2FkSmN2Ck95QjFGcDhnNnA2YVlHSUZNdEVrUlFLQmdRQ3ZvMkJiL25INnhLVUM5VTBRY09xRUx0QVh4bGliZWhHNklMQ2oKKzdPMGhUSHRNRmhtTFlKWExBTGlTbGUzL2RESStrRmtaaGRPSFNHYXlzMVR3ZkZ4aWYyK2lwOHkzTXd4Z25WUAovSGx5Tm1Nc2pKbU9QeWdxTVErSUIzQndqb0o4S2p5cEtrL0FwMTF3aEp0T2tBNThvQWtaSzkzWXRPR09yYWx3CllpVklZUUtCZ0ZsMEN0RlhRZmlHN2VubzdsRWVlV3dSRXFxL01vZGVPcjRtRUZJWk84VEZwUHlpK1NuRklRUVEKQWdQRW5SdnZtb29IM1VDTzNRaUU3UHA5VzdrTTd6ZG1IZ09RTWNZK1NLMkdqU21BYzJXQWlGWkM0aXduTkV6QQp1bE5wLzh4d1BtbS9ZTGwyQTR3ckh4ZE5CQkhmRUlhMDZha21TbmRVTS9Uck9vQjVCTG1KCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
                

#containers:
#  - name: flinkContainer
#    container-impl: com.netease.arctic.optimizer.FlinkOptimizerContainer
#    properties:
#      flink-home: "/opt/flink/"                                     # Flink install home
#      export.JVM_ARGS: "-Djava.security.krb5.conf=/opt/krb5.conf"   # Flink launch jvm args, like kerberos config when ues kerberos
#      export.HADOOP_CONF_DIR: "/etc/hadoop/conf/"                   # Hadoop config dir
#      export.HADOOP_USER_NAME: "hadoop"                             # Hadoop user submit on yarn
#      export.FLINK_CONF_DIR: "/etc/hadoop/conf/"                    # Flink config dir
