import{d as O,M as P,D as V,G as D,a as K,r as b,Z as F,b as c,o,j as k,B as s,c as h,w as l,e as u,l as I,F as C,v as E,z as p,_ as G}from"./index-7UdTOOsH.js";import{b as R,e as T}from"./setting.services-SdCB81x-.js";const U={class:"setting-wrap"},L={class:"system-setting"},Z={class:"container-setting"},H={class:"content"},J={class:"item"},Q={class:"left"},W={class:"right"},X={key:0,class:"item"},Y={class:"left"},ee={class:"right"},te={class:"g-mb-12 g-mt-12"},ae={class:"g-mb-12 g-mt-12"},se=O({__name:"index",setup(ne){const{t:r}=P(),M=V(),x=D(),m=K(!1),f=b([]),g=b([]);b([{title:r("name"),dataIndex:"name",width:340,ellipsis:!0},{title:r("propertiesMemory",{type:"taskmanager"}),dataIndex:"tmMemory",width:"50%",ellipsis:!0},{title:r("propertiesMemory",{type:"jobmanager"}),dataIndex:"jmMemory",width:"50%",ellipsis:!0}]);const w=b([{title:r("key"),dataIndex:"key",width:340,ellipsis:!0},{title:r("value"),dataIndex:"value"}]),v=K([]),i={system:{title:r("systemSetting"),key:"system"},container:{title:r("containerSetting"),key:"container"}},y=K(i.system.key);F(()=>x,t=>{var e;y.value=((e=t.query)==null?void 0:e.tab)||i.system.key,A(y.value)},{immediate:!0});async function B(){try{m.value=!0;const t=await R();if(!t)return;f.length=0,Object.keys(t).forEach(e=>{f.push({key:e,value:t[e]})})}finally{m.value=!1}}async function q(){try{m.value=!0;const t=await T();v.value=[],g.length=0,(t||[]).forEach((e,d)=>{e.propertiesArray=[],v.value.push(e.name),g.push(e),Object.keys(e.properties||{}).forEach(n=>{g[d].propertiesArray.push({key:n,value:e.properties[n]})}),(e.optimizeGroup||[]).forEach(n=>{n.innerPropertiesArray=[],Object.keys(n.properties||{}).forEach(_=>{n.innerPropertiesArray.push({key:_,value:n.properties[_]})})})})}finally{m.value=!1}}function A(t){const e={...x.query};e.tab=t,M.replace({query:{...e}}),z()}function z(){y.value===i.system.key?B():q()}return(t,e)=>{const d=c("a-table"),n=c("a-tab-pane"),_=c("a-collapse-panel"),j=c("a-collapse"),$=c("a-tabs"),N=c("u-loading");return o(),k(C,null,[s("div",U,[h($,{activeKey:y.value,"onUpdate:activeKey":e[1]||(e[1]=a=>y.value=a),onChange:A},{default:l(()=>[(o(),u(n,{key:i.system.key,tab:i.system.title},{default:l(()=>[s("div",L,[f.length?(o(),u(d,{key:0,rowKey:"key",columns:w,"data-source":f,pagination:!1},null,8,["columns","data-source"])):I("",!0)])]),_:1},8,["tab"])),(o(),u(n,{key:i.container.key,tab:i.container.title},{default:l(()=>[s("div",Z,[h(j,{activeKey:v.value,"onUpdate:activeKey":e[0]||(e[0]=a=>v.value=a)},{default:l(()=>[(o(!0),k(C,null,E(g,a=>(o(),u(_,{key:a.name,header:a.name},{default:l(()=>[s("ul",H,[s("li",J,[s("h3",Q,p(t.$t("name")),1),s("span",W,p(a.name),1)]),a.classpath?(o(),k("li",X,[s("h3",Y,p(t.$t("implementation")),1),s("span",ee,p(a.classpath),1)])):I("",!0)]),s("h3",te,p(t.$t("properties")),1),h(d,{rowKey:"key",columns:w,"data-source":a.propertiesArray,pagination:!1},null,8,["columns","data-source"]),s("h3",ae,p(t.$t("optimizerGroups")),1),h(j,null,{default:l(()=>[(o(!0),k(C,null,E(a.optimizeGroup,S=>(o(),u(_,{key:S.name,header:S.name},{default:l(()=>[h(d,{rowKey:"name",columns:w,"data-source":S.innerPropertiesArray,pagination:!1},null,8,["columns","data-source"])]),_:2},1032,["header"]))),128))]),_:2},1024)]),_:2},1032,["header"]))),128))]),_:1},8,["activeKey"])])]),_:1},8,["tab"]))]),_:1},8,["activeKey"])]),m.value?(o(),u(N,{key:0})):I("",!0)],64)}}}),ie=G(se,[["__scopeId","data-v-d0c92817"]]);export{ie as default};
