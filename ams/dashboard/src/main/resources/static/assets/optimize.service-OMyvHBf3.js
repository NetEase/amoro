import{d as E,M as B,s as F,a as U,r as b,N as V,Z as L,V as N,b as l,o as c,j as m,B as f,z as G,c as u,w as v,F as q,v as D,Y as S,l as P,e as T,a1 as $,ab as w,ac as M,T as o}from"./index--2c5DB0I.js";import{u as K}from"./usePlaceholder-nNwmgVSf.js";const W={class:"config-properties"},Y={key:0},Z={class:"config-header g-flex"},H={class:"td g-flex-ac"},J={class:"td g-flex-ac bd-left"},ee=E({__name:"Properties",props:{propertiesObj:{},isEdit:{type:Boolean}},setup(e,{expose:r}){const{t:s}=B(),n=e,C=F([{dataIndex:"key",title:s("key"),width:284,ellipsis:!0},{dataIndex:"value",title:s("value"),ellipsis:!0}]),g=U(),a=b({data:[]}),_=b(K()),h=V(()=>n.isEdit);L(()=>n.propertiesObj,()=>{O()},{immediate:!0,deep:!0});function O(){a.data.length=0,Object.keys(n.propertiesObj).forEach(t=>{a.data.push({key:t,value:n.propertiesObj[t],uuid:w()})})}function R(t){const i=a.data.indexOf(t);i!==-1&&a.data.splice(i,1)}function I(){a.data.push({key:"",value:"",uuid:w()})}return r({getPropertiesWithoputValidation(){const t={};return a.data.forEach(i=>{t[i.key]=i.value}),Promise.resolve(t)},getProperties(){return g.value.validateFields().then(()=>{const t={};return a.data.forEach(i=>{t[i.key]=i.value}),Promise.resolve(t)}).catch(()=>!1)}}),N(()=>{}),(t,i)=>{const z=l("a-input"),k=l("a-form-item"),j=l("a-form"),x=l("a-button"),A=l("a-table");return c(),m("div",W,[h.value?(c(),m("div",Y,[f("div",Z,[f("div",H,G(t.$t("key")),1),f("div",J,G(t.$t("value")),1)]),u(j,{ref_key:"propertiesFormRef",ref:g,model:a,class:"g-mt-12"},{default:v(()=>[(c(!0),m(q,null,D(a.data,(p,y)=>(c(),m("div",{class:"config-row",key:p.uuid},[u(k,{name:["data",y,"key"],rules:[{required:!0,message:`${t.$t(_.inputPh)}`}],class:"g-mr-8"},{default:v(()=>[u(z,{value:p.key,"onUpdate:value":d=>p.key=d,style:{width:"100%"}},null,8,["value","onUpdate:value"])]),_:2},1032,["name","rules"]),u(k,{name:["data",y,"value"],rules:[{required:!0,message:`${t.$t(_.inputPh)}`}]},{default:v(()=>[u(z,{value:p.value,"onUpdate:value":d=>p.value=d,style:{width:"100%"}},null,8,["value","onUpdate:value"])]),_:2},1032,["name","rules"]),u($(M),{class:"icon-close",onClick:d=>R(p)},null,8,["onClick"])]))),128))]),_:1},8,["model"]),u(x,{class:"config-btn",onClick:I},{default:v(()=>[S("+")]),_:1})])):P("",!0),h.value?P("",!0):(c(),T(A,{key:1,rowKey:"uuid",columns:$(C),"data-source":a.data,pagination:!1},null,8,["columns","data-source"]))])}}});function te(e){const{optimizerGroup:r,page:s,pageSize:n}=e;return o.get(`ams/v1/optimize/optimizerGroups/${r}/tables`,{params:{page:s,pageSize:n}})}function se(e){const{optimizerGroup:r,page:s,pageSize:n}=e;return o.get(`ams/v1/optimize/optimizerGroups/${r}/optimizers`,{params:{page:s,pageSize:n}})}function ae(e){const{optimizerGroup:r,parallelism:s}=e;return o.post(`ams/v1/optimize/optimizerGroups/${r}/optimizers`,{parallelism:s})}function oe(e){const{optimizerGroup:r,jobId:s}=e;return o.delete(`ams/v1/optimize/optimizerGroups/${r}/optimizers/${s}`)}async function re(){return await o.get("ams/v1/optimize/resourceGroups")}const ie=async()=>await o.get("ams/v1/optimize/containers/get"),ne=e=>o.post("ams/v1/optimize/resourceGroups",e),ue=e=>o.put("ams/v1/optimize/resourceGroups",e),pe=e=>o.get(`/ams/v1/optimize/resourceGroups/${e.name}/delete/check`),le=e=>o.delete(`/ams/v1/optimize/resourceGroups/${e.name}`);export{ee as _,se as a,pe as b,le as c,te as d,ie as e,ne as f,re as g,oe as r,ae as s,ue as u};
