(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-724c6263"],{5738:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"j",(function(){return i})),a.d(t,"i",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"m",(function(){return s})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"k",(function(){return b})),a.d(t,"c",(function(){return p})),a.d(t,"e",(function(){return m})),a.d(t,"f",(function(){return f})),a.d(t,"n",(function(){return O})),a.d(t,"l",(function(){return j}));var n=a("b32d");function o(){return n["a"].get("ams/v1/catalogs")}function c(e){const{catalog:t,keywords:a}=e;return n["a"].get(`ams/v1/catalogs/${t}/databases`,{params:{keywords:a}})}function i(e){const{catalog:t,db:a,keywords:o}=e;return n["a"].get(`ams/v1/catalogs/${t}/databases/${a}/tables`,{params:{keywords:o}})}function r({catalog:e="",db:t="",table:a="",token:o=""}){return n["a"].get(`ams/v1/tables/catalogs/${e}/dbs/${t}/tables/${a}/details`,{params:{token:o}})}function l({catalog:e="",db:t="",table:a=""}){return n["a"].get(`ams/v1/tables/catalogs/${e}/dbs/${t}/tables/${a}/hive/details`)}function s({catalog:e="",db:t="",table:a=""}){return n["a"].get(`ams/v1/tables/catalogs/${e}/dbs/${t}/tables/${a}/upgrade/status`)}function u(e){const{catalog:t,db:a,table:o,page:c,pageSize:i,token:r}=e;return n["a"].get(`ams/v1/tables/catalogs/${t}/dbs/${a}/tables/${o}/partitions`,{params:{page:c,pageSize:i,token:r}})}function d(e){const{catalog:t,db:a,table:o,partition:c,page:i,pageSize:r,token:l}=e;return n["a"].get(`ams/v1/tables/catalogs/${t}/dbs/${a}/tables/${o}/partitions/${c}/files`,{params:{page:i,pageSize:r,token:l}})}function b(e){const{catalog:t,db:a,table:o,page:c,pageSize:i,token:r}=e;return n["a"].get(`ams/v1/tables/catalogs/${t}/dbs/${a}/tables/${o}/transactions`,{params:{page:c,pageSize:i,token:r}})}function p(e){const{catalog:t,db:a,table:o,transactionId:c,page:i,pageSize:r,token:l}=e;return n["a"].get(`ams/v1/tables/catalogs/${t}/dbs/${a}/tables/${o}/transactions/${c}/detail`,{params:{page:i,pageSize:r,token:l}})}function m(e){const{catalog:t,db:a,table:o,page:c,pageSize:i,token:r}=e;return n["a"].get(`ams/v1/tables/catalogs/${t}/dbs/${a}/tables/${o}/operations`,{params:{page:c,pageSize:i,token:r}})}function f(e){const{catalog:t,db:a,table:o,page:c,pageSize:i,token:r}=e;return n["a"].get(`ams/v1/tables/catalogs/${t}/dbs/${a}/tables/${o}/optimize`,{params:{page:c,pageSize:i,token:r}})}function O({catalog:e="",db:t="",table:a="",properties:o={},pkList:c=[]}){return n["a"].post(`ams/v1/tables/catalogs/${e}/dbs/${t}/tables/${a}/upgrade`,{properties:o,pkList:c})}function j(){return n["a"].get("ams/v1/upgrade/properties")}},"637a":function(e,t,a){},"6efd":function(e,t,a){"use strict";a("dd8b")},"8ab6":function(e,t,a){},9094:function(e,t,a){},"9638a":function(e,t,a){"use strict";a("9094")},b311:function(e,t,a){
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT Â© Zeno Rocha
 */
(function(t,a){e.exports=a()})(0,(function(){return function(){var e={686:function(e,t,a){"use strict";a.d(t,{default:function(){return z}});var n=a(279),o=a.n(n),c=a(370),i=a.n(c),r=a(817),l=a.n(r);function s(e){try{return document.execCommand(e)}catch(t){return!1}}var u=function(e){var t=l()(e);return s("cut"),t},d=u;function b(e){var t="rtl"===document.documentElement.getAttribute("dir"),a=document.createElement("textarea");a.style.fontSize="12pt",a.style.border="0",a.style.padding="0",a.style.margin="0",a.style.position="absolute",a.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;return a.style.top="".concat(n,"px"),a.setAttribute("readonly",""),a.value=e,a}var p=function(e,t){var a=b(e);t.container.appendChild(a);var n=l()(a);return s("copy"),a.remove(),n},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},a="";return"string"===typeof e?a=p(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null===e||void 0===e?void 0:e.type)?a=p(e.value,t):(a=l()(e),s("copy")),a},f=m;function O(e){return O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,a=void 0===t?"copy":t,n=e.container,o=e.target,c=e.text;if("copy"!==a&&"cut"!==a)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==o){if(!o||"object"!==O(o)||1!==o.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===a&&o.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===a&&(o.hasAttribute("readonly")||o.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return c?f(c,{container:n}):o?"cut"===a?d(o):f(o,{container:n}):void 0},v=j;function g(e){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t,a){return t&&h(e.prototype,t),a&&h(e,a),e}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function S(e){var t=I();return function(){var a,n=N(e);if(t){var o=N(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return w(this,a)}}function w(e,t){return!t||"object"!==g(t)&&"function"!==typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function E(e,t){var a="data-clipboard-".concat(e);if(t.hasAttribute(a))return t.getAttribute(a)}var V=function(e){C(a,e);var t=S(a);function a(e,n){var o;return y(this,a),o=t.call(this),o.resolveOptions(n),o.listenClick(e),o}return k(a,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof e.action?e.action:this.defaultAction,this.target="function"===typeof e.target?e.target:this.defaultTarget,this.text="function"===typeof e.text?e.text:this.defaultText,this.container="object"===g(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=i()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,a=this.action(t)||"copy",n=v({action:a,container:this.container,target:this.target(t),text:this.text(t)});this.emit(n?"success":"error",{action:a,text:n,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return E("action",e)}},{key:"defaultTarget",value:function(e){var t=E("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return E("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return f(e,t)}},{key:"cut",value:function(e){return d(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"===typeof e?[e]:e,a=!!document.queryCommandSupported;return t.forEach((function(e){a=a&&!!document.queryCommandSupported(e)})),a}}]),a}(o()),z=V},828:function(e){var t=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}function n(e,a){while(e&&e.nodeType!==t){if("function"===typeof e.matches&&e.matches(a))return e;e=e.parentNode}}e.exports=n},438:function(e,t,a){var n=a(828);function o(e,t,a,n,o){var c=i.apply(this,arguments);return e.addEventListener(a,c,o),{destroy:function(){e.removeEventListener(a,c,o)}}}function c(e,t,a,n,c){return"function"===typeof e.addEventListener?o.apply(null,arguments):"function"===typeof a?o.bind(null,document).apply(null,arguments):("string"===typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return o(e,t,a,n,c)})))}function i(e,t,a,o){return function(a){a.delegateTarget=n(a.target,t),a.delegateTarget&&o.call(e,a)}}e.exports=c},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var a=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===a||"[object HTMLCollection]"===a)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"===typeof e||e instanceof String},t.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},370:function(e,t,a){var n=a(879),o=a(438);function c(e,t,a){if(!e&&!t&&!a)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(a))throw new TypeError("Third argument must be a Function");if(n.node(e))return i(e,t,a);if(n.nodeList(e))return r(e,t,a);if(n.string(e))return l(e,t,a);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,a){return e.addEventListener(t,a),{destroy:function(){e.removeEventListener(t,a)}}}function r(e,t,a){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,a)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,a)}))}}}function l(e,t,a){return o(document.body,e,t,a)}e.exports=c},817:function(e){function t(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var a=e.hasAttribute("readonly");a||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),a||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(e),n.removeAllRanges(),n.addRange(o),t=n.toString()}return t}e.exports=t},279:function(e){function t(){}t.prototype={on:function(e,t,a){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:a}),this},once:function(e,t,a){var n=this;function o(){n.off(e,o),t.apply(a,arguments)}return o._=t,this.on(e,o,a)},emit:function(e){var t=[].slice.call(arguments,1),a=((this.e||(this.e={}))[e]||[]).slice(),n=0,o=a.length;for(n;n<o;n++)a[n].fn.apply(a[n].ctx,t);return this},off:function(e,t){var a=this.e||(this.e={}),n=a[e],o=[];if(n&&t)for(var c=0,i=n.length;c<i;c++)n[c].fn!==t&&n[c].fn._!==t&&o.push(n[c]);return o.length?a[e]=o:delete a[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}return function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),a(686)}().default}))},b356:function(e,t,a){"use strict";function n(){const e=0,t=1,a=["25","50","100"],n=25;return{total:e,current:t,pageSize:n,pageSizeOptions:a,showQuickJumper:!0,showSizeChanger:!0,hideOnSinglePage:!1}}a.d(t,"a",(function(){return n}))},bfa3:function(e,t,a){"use strict";a.r(t);var n=a("7a23");const o={class:"tables-wrap"},c={key:0,class:"tables-content"},i={class:"g-flex-jsb"},r={class:"g-flex-col"},l={class:"g-flex"},s=["title"],u={key:0,class:"create-time"},d={class:"table-info g-flex-ac"},b={class:"text-color"},p={class:"text-color"},m={class:"text-color"},f={class:"text-color"},O={class:"content"};function j(e,t,a,j,v,g){const y=Object(n["resolveComponent"])("a-divider"),h=Object(n["resolveComponent"])("u-details"),k=Object(n["resolveComponent"])("a-tab-pane"),C=Object(n["resolveComponent"])("u-files"),x=Object(n["resolveComponent"])("a-tabs"),S=Object(n["resolveComponent"])("router-view");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[e.isSecondaryNav?(Object(n["openBlock"])(),Object(n["createBlock"])(S,{key:1,onGoBack:e.goBack},null,8,["onGoBack"])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",c,[Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("span",{title:e.baseInfo.tableName,class:"table-name g-text-nowrap"},Object(n["toDisplayString"])(e.baseInfo.tableName),9,s),e.isIceberg?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",u,Object(n["toDisplayString"])(`${e.$t("createTime")}: ${e.baseInfo.createTime}`),1))]),Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("p",null,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(`${e.$t("table")}${e.$t("size")}`)+": ",1),Object(n["createElementVNode"])("span",b,Object(n["toDisplayString"])(e.baseInfo.size),1)]),Object(n["createVNode"])(y,{type:"vertical"}),Object(n["createElementVNode"])("p",null,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("file"))+": ",1),Object(n["createElementVNode"])("span",p,Object(n["toDisplayString"])(e.baseInfo.file),1)]),Object(n["createVNode"])(y,{type:"vertical"}),Object(n["createElementVNode"])("p",null,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("averageFileSize"))+": ",1),Object(n["createElementVNode"])("span",m,Object(n["toDisplayString"])(e.baseInfo.averageFile),1)]),Object(n["createVNode"])(y,{type:"vertical"}),Object(n["createElementVNode"])("p",null,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("tableFormat"))+": ",1),Object(n["createElementVNode"])("span",f,Object(n["toDisplayString"])(e.baseInfo.tableFormat),1)])])])]),Object(n["createElementVNode"])("div",O,[Object(n["createVNode"])(x,{activeKey:e.activeKey,"onUpdate:activeKey":t[0]||(t[0]=t=>e.activeKey=t),destroyInactiveTabPane:"",onChange:e.onChangeTab},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(k,{key:"Details",tab:"Details"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(h,{onSetBaseDetailInfo:e.setBaseDetailInfo},null,8,["onSetBaseDetailInfo"])]),_:1}),e.detailLoaded?(Object(n["openBlock"])(),Object(n["createBlock"])(k,{key:"Files",tab:"Files"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(C,{hasPartition:e.baseInfo.hasPartition},null,8,["hasPartition"])]),_:1})):Object(n["createCommentVNode"])("",!0),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.tabConfigs,e=>(Object(n["openBlock"])(),Object(n["createBlock"])(k,{key:e.key,tab:""+e.key},{default:Object(n["withCtx"])(()=>[(Object(n["openBlock"])(),Object(n["createBlock"])(Object(n["resolveDynamicComponent"])("U"+e.key)))]),_:2},1032,["tab"]))),128))]),_:1},8,["activeKey","onChange"])])]))])}var v=a("47e2"),g=a("6c02"),y=a("5738"),h=a("d257");const k={class:"table-detail g-flex"},C={class:"left-content"},x={key:0,class:"table-attrs"},S={class:"attr-title"},w={key:1,class:"table-attrs"},T={class:"attr-title"},I={class:"table-attrs"},N={class:"attr-title"},E={class:"right-content"},V={key:0,class:"table-attrs"},z={class:"attr-title"},B={class:"table-attrs"},$={class:"attr-title"},_={class:"table-attrs"},D={class:"attr-title"};var L=Object(n["defineComponent"])({__name:"Details",emits:["setBaseDetailInfo"],setup(e,{emit:t}){const{t:a}=Object(v["b"])(),o=Object(g["d"])(),c=Object(n["computed"])(()=>({...o.query}));Object(n["watch"])(()=>o.query,e=>{(null===e||void 0===e?void 0:e.catalog)&&"/tables"===o.path&&u()});const i={fileCount:"File Count",totalSize:"Total Size",averageFileSize:"Average File Size",lastCommitTime:"Last Commit Time"},r={...i,baseWatermark:"Base Watermark"},l={...i,tableWatermark:"Table Watermark"},s=Object(n["reactive"])({detailLoading:!1,baseDetailInfo:{tableType:"",tableName:"",createTime:"",size:"",file:"",averageFile:"",tableFormat:"",hasPartition:!1},pkList:[],partitionColumnList:[],properties:[],changeMetrics:[],baseMetrics:[],schema:[]}),u=async()=>{try{const{catalog:t,db:a,table:n}=c.value;if(!t||!a||!n)return;s.detailLoading=!0;const o=await Object(y["i"])({...c.value}),{pkList:i=[],tableType:u,partitionColumnList:d=[],properties:b,changeMetrics:p,schema:m,createTime:f,tableIdentifier:O,baseMetrics:j,tableSummary:v}=o;s.baseDetailInfo={...v,tableType:u,tableName:(null===O||void 0===O?void 0:O.tableName)||"",createTime:f?Object(h["b"])(f):"",hasPartition:!(null===d||void 0===d||!d.length)},s.pkList=i||[],s.partitionColumnList=d||[],s.schema=m||[],s.changeMetrics=Object.keys(l||{}).map(e=>({metric:l[e],value:"lastCommitTime"===e||"tableWatermark"===e?(p||{})[e]?Object(h["b"])((p||{})[e]):"":(p||{})[e]})).filter(e=>e.value),s.baseMetrics=Object.keys(r||{}).map(e=>({metric:r[e],value:"lastCommitTime"===e||"baseWatermark"===e?(j||{})[e]?Object(h["b"])((j||{})[e]):"":(j||{})[e]})),s.properties=Object.keys(b||{}).map(e=>({key:e,value:b[e]})),e()}catch(a){}finally{s.detailLoading=!1}function e(){t("setBaseDetailInfo",s.baseDetailInfo)}};Object(n["onMounted"])(()=>{u()});const d=Object(n["shallowReactive"])([{title:a("field"),dataIndex:"field",width:"30%"},{title:a("type"),dataIndex:"type",width:"20%"},{title:a("required"),dataIndex:"required",width:"20%",customRender:e=>String(null===e||void 0===e?void 0:e.value)},{title:a("description"),dataIndex:"comment",ellipsis:!0}]),b=Object(n["shallowReactive"])([{title:a("field"),dataIndex:"field",width:"30%"},{title:a("sourceField"),dataIndex:"sourceField",width:"30%"},{title:a("transform"),dataIndex:"transform",ellipsis:!0}]),p=Object(n["shallowReactive"])([{title:a("metric"),dataIndex:"metric",width:"50%",ellipsis:!0},{title:a("value"),dataIndex:"value",ellipsis:!0}]),m=Object(n["shallowReactive"])([{title:a("key"),dataIndex:"key",width:"50%",ellipsis:!0},{title:a("value"),dataIndex:"value",ellipsis:!0}]);return(e,t)=>{const a=Object(n["resolveComponent"])("a-table"),o=Object(n["resolveComponent"])("u-loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",k,[Object(n["createElementVNode"])("div",C,[s.pkList&&s.pkList.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",x,[Object(n["createElementVNode"])("p",S,Object(n["toDisplayString"])(e.$t("primaryKey")),1),Object(n["createVNode"])(a,{rowKey:"field",columns:Object(n["unref"])(d),"data-source":s.pkList,pagination:!1},null,8,["columns","data-source"])])):Object(n["createCommentVNode"])("",!0),s.partitionColumnList&&s.partitionColumnList.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",w,[Object(n["createElementVNode"])("p",T,Object(n["toDisplayString"])(e.$t("partitionKey")),1),Object(n["createVNode"])(a,{rowKey:"field",columns:Object(n["unref"])(b),"data-source":s.partitionColumnList,pagination:!1},null,8,["columns","data-source"])])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",I,[Object(n["createElementVNode"])("p",N,Object(n["toDisplayString"])(e.$t("schema")),1),Object(n["createVNode"])(a,{rowKey:"field",columns:Object(n["unref"])(d),"data-source":s.schema,pagination:!1},null,8,["columns","data-source"])])]),Object(n["createElementVNode"])("div",E,[s.changeMetrics&&s.changeMetrics.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",V,[Object(n["createElementVNode"])("p",z,Object(n["toDisplayString"])(e.$t("changeTableMetrics")),1),Object(n["createVNode"])(a,{columns:Object(n["unref"])(p),"data-source":s.changeMetrics,pagination:!1},null,8,["columns","data-source"])])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",B,[Object(n["createElementVNode"])("p",$,Object(n["toDisplayString"])(e.$t("baseTableMetrics")),1),Object(n["createVNode"])(a,{columns:Object(n["unref"])(p),"data-source":s.baseMetrics,pagination:!1},null,8,["columns","data-source"])]),Object(n["createElementVNode"])("div",_,[Object(n["createElementVNode"])("p",D,Object(n["toDisplayString"])(e.$t("properties")),1),Object(n["createVNode"])(a,{columns:Object(n["unref"])(m),"data-source":s.properties,pagination:!1},null,8,["columns","data-source"])])]),s.detailLoading?(Object(n["openBlock"])(),Object(n["createBlock"])(o,{key:0})):Object(n["createCommentVNode"])("",!0)])}}}),M=(a("e4a8"),a("6b0d")),R=a.n(M);const F=R()(L,[["__scopeId","data-v-4756a192"]]);var P=F,A=a("b356");const K={class:"table-partitons"},q=Object(n["createTextVNode"])("All");var U=Object(n["defineComponent"])({__name:"Files",props:{hasPartition:{type:Boolean}},setup(e){const t=e,a=Object(n["ref"])(!1),{t:o}=Object(v["b"])(),c=Object(n["shallowReactive"])([{title:o("partition"),dataIndex:"partition",ellipsis:!0},{title:o("fileCount"),dataIndex:"fileCount",width:120,ellipsis:!0},{title:o("size"),dataIndex:"size",width:120,ellipsis:!0},{title:o("lastCommitTime"),dataIndex:"lastCommitTime",width:200,ellipsis:!0}]),i=Object(n["shallowReactive"])([{title:o("file"),dataIndex:"file",ellipsis:!0},{title:o("fileType"),dataIndex:"fileType",width:120,ellipsis:!0},{title:o("size"),dataIndex:"size",width:120,ellipsis:!0},{title:o("commitTime"),dataIndex:"commitTime",width:200,ellipsis:!0},{title:o("commitId"),dataIndex:"commitId",width:200,ellipsis:!0},{title:o("path"),dataIndex:"path",ellipsis:!0,scopedSlots:{customRender:"path"}}]),r=Object(n["reactive"])([]),l=Object(n["reactive"])([]),s=Object(n["ref"])(""),u=Object(n["ref"])(!1),d=Object(n["reactive"])(Object(A["a"])()),b=Object(n["reactive"])(Object(A["a"])()),p=Object(g["d"])(),m=p.query,f=Object(n["reactive"])({catalog:"",db:"",table:"",...m});async function O(){try{u.value=!0,r.length=0;const e=await Object(y["h"])({...f,page:d.current,pageSize:d.pageSize}),{list:t,total:a}=e;d.total=a,(t||[]).forEach(e=>{e.lastCommitTime=e.lastCommitTime?Object(h["b"])(e.lastCommitTime):"",r.push(e)})}catch(e){}finally{u.value=!1}}function j({current:e=1,pageSize:n=25}){!a.value&&t.hasPartition?(d.current=e,n!==d.pageSize&&(d.current=1),d.pageSize=n):(b.current=e,n!==b.pageSize&&(b.current=1),b.pageSize=n),k()}function k(){t.hasPartition?a.value?C():O():C()}async function C(){try{l.length=0,u.value=!0;const e={...f,partition:t.hasPartition?encodeURIComponent(s.value):null,page:b.current,pageSize:b.pageSize},a=await Object(y["g"])(e),{list:n,total:o}=a;b.total=o,(n||[]).forEach(e=>{e.commitTime=e.commitTime?Object(h["b"])(e.commitTime):"",l.push(e)})}catch(e){}finally{u.value=!1}}function x(e){s.value=e.partition,a.value=!a.value,a.value&&(b.current=1,C())}return Object(n["onMounted"])(()=>{a.value=!1,t.hasPartition?O():C()}),(t,o)=>{const p=Object(n["resolveComponent"])("a-button"),m=Object(n["resolveComponent"])("a-table"),f=Object(n["resolveComponent"])("a-breadcrumb-item"),O=Object(n["resolveComponent"])("a-breadcrumb"),v=Object(n["resolveComponent"])("a-tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",K,[!a.value&&e.hasPartition?(Object(n["openBlock"])(),Object(n["createBlock"])(m,{key:0,rowKey:"partiton",columns:Object(n["unref"])(c),"data-source":r,pagination:d,onChange:j,loading:u.value},{bodyCell:Object(n["withCtx"])(({column:e,record:t})=>["partition"===e.dataIndex?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:0,type:"link",onClick:e=>x(t)},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.partition),1)]),_:2},1032,["onClick"])):Object(n["createCommentVNode"])("",!0)]),_:1},8,["columns","data-source","pagination","loading"])):(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:1},[e.hasPartition?(Object(n["openBlock"])(),Object(n["createBlock"])(O,{key:0,separator:">"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(f,{onClick:x,class:"text-active"},{default:Object(n["withCtx"])(()=>[q]),_:1}),Object(n["createVNode"])(f,null,{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(`${t.$t("partition")} ${s.value}`),1)]),_:1})]),_:1})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(m,{rowKey:"file",columns:Object(n["unref"])(i),"data-source":l,pagination:b,onChange:j,loading:u.value},{bodyCell:Object(n["withCtx"])(({column:e,record:t})=>["path"===e.dataIndex?(Object(n["openBlock"])(),Object(n["createBlock"])(v,{key:0},{title:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.path),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(t.path),1)]),_:2},1024)):Object(n["createCommentVNode"])("",!0)]),_:1},8,["columns","data-source","pagination","loading"])],64))])}}});a("e05d");const W=R()(U,[["__scopeId","data-v-8ea8e0ec"]]);var H=W,G=(a("3b18"),a("f64c")),J=a("b311"),Y=a.n(J),Q=e=>{const t=void 0===(null===e||void 0===e?void 0:e.appendToBody)||e.appendToBody;return{toClipboard(e,a){return new Promise((n,o)=>{const c=document.createElement("button"),i=new Y.a(c,{text:()=>e,action:()=>"copy",container:void 0!==a?a:document.body});i.on("success",e=>{i.destroy(),n(e)}),i.on("error",e=>{i.destroy(),o(e)}),t&&document.body.appendChild(c),c.click(),t&&document.body.removeChild(c)})}}};const X={class:"table-operations"},Z=["onClick"];var ee=Object(n["defineComponent"])({__name:"Operations",setup(e){const{toClipboard:t}=Q(),{t:a}=Object(v["b"])(),o=Object(n["shallowReactive"])([{title:a("time"),dataIndex:"ts",width:"30%"},{title:a("operation"),dataIndex:"operation",scopedSlots:{customRender:"operation"}}]),c=Object(n["ref"])(!1),i=Object(n["ref"])(""),r=Object(n["reactive"])([]),l=Object(n["ref"])(!1),s=Object(n["reactive"])(Object(A["a"])()),u=Object(g["d"])(),d=u.query,b=Object(n["reactive"])({catalog:"",db:"",table:"",...d});async function p(){try{l.value=!0,r.length=0;const e=await Object(y["e"])({...b,page:s.current,pageSize:s.pageSize}),{total:t,list:a}=e;s.total=t,(a||[]).forEach(e=>{e.ts=e.ts?Object(h["b"])(e.ts):"",r.push(e)})}catch(e){}finally{l.value=!1}}function m({current:e=1,pageSize:t=25}=s){s.current=e,t!==s.pageSize&&(s.current=1),s.pageSize=t,p()}function f(e){c.value=!0,i.value=e.operation}function O(){c.value=!1}async function j(){try{await t(i.value),G["a"].success(a("copySuccess")),O()}catch(e){}}return Object(n["onMounted"])(()=>{p()}),(e,t)=>{const a=Object(n["resolveComponent"])("a-table"),u=Object(n["resolveComponent"])("a-button"),d=Object(n["resolveComponent"])("a-modal");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",X,[Object(n["createVNode"])(a,{rowKey:"partiton",columns:Object(n["unref"])(o),"data-source":r,pagination:s,onChange:m,loading:l.value},{bodyCell:Object(n["withCtx"])(({column:e,record:t})=>["operation"===e.dataIndex?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:0,class:"text-active g-max-line-3",onClick:e=>f(t)},Object(n["toDisplayString"])(t.operation),9,Z)):Object(n["createCommentVNode"])("",!0)]),_:1},8,["columns","data-source","pagination","loading"])]),Object(n["createVNode"])(d,{visible:c.value,width:560,title:""+e.$t("operationDetails"),onCancel:O,class:"operation-wrap"},{footer:Object(n["withCtx"])(()=>[Object(n["createVNode"])(u,{type:"primary",onClick:j},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("copy")),1)]),_:1})]),default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(i.value)+" ",1)]),_:1},8,["visible","title"])],64)}}});a("da03b");const te=ee;var ae=te;const ne={class:"table-transactions"},oe=Object(n["createTextVNode"])("All");var ce=Object(n["defineComponent"])({__name:"Transactions",setup(e){const t=Object(n["ref"])(!1),{t:a}=Object(v["b"])(),o=Object(n["shallowReactive"])([{title:a("transactionId"),dataIndex:"transactionId",ellipsis:!0},{title:a("fileCount"),dataIndex:"fileCount"},{title:a("size"),dataIndex:"fileSize"},{title:a("commitTime"),dataIndex:"commitTime"},{title:a("snapshotId"),dataIndex:"snapshotId",ellipsis:!0}]),c=Object(n["shallowReactive"])([{title:a("operation"),dataIndex:"operation",width:120,ellipsis:!0},{title:a("file"),dataIndex:"file",ellipsis:!0},{title:a("partition"),dataIndex:"partition",width:120},{title:a("fileContent"),dataIndex:"type",width:120},{title:a("size"),dataIndex:"size",width:120},{title:a("commitTime"),dataIndex:"commitTime",width:200,ellipsis:!0},{title:a("path"),dataIndex:"path",ellipsis:!0}]),i=Object(n["reactive"])([]),r=Object(n["reactive"])([]),l=Object(n["ref"])(""),s=Object(n["ref"])(!1),u=Object(n["reactive"])(Object(A["a"])()),d=Object(n["reactive"])(Object(A["a"])()),b=Object(g["d"])(),p=b.query,m=Object(n["reactive"])({catalog:"",db:"",table:"",...p});async function f(){try{s.value=!0,i.length=0;const e=await Object(y["k"])({...m,page:u.current,pageSize:u.pageSize}),{list:t=[],total:a}=e;t.forEach(e=>{e.commitTime=e.commitTime?Object(h["b"])(e.commitTime):"",i.push(e)}),u.total=a}catch(e){}finally{s.value=!1}}function O({current:e=1,pageSize:a=25}){t.value?(d.current=e,a!==d.pageSize&&(d.current=1),d.pageSize=a):(u.current=e,a!==u.pageSize&&(u.current=1),u.pageSize=a),j()}function j(){t.value?k():f()}async function k(){try{r.length=0,s.value=!0;const e={...m,transactionId:l.value,page:d.current,pageSize:d.pageSize},t=await Object(y["c"])(e),{list:a,total:n}=t;d.total=n,a.forEach(e=>{e.commitTime=e.commitTime?Object(h["b"])(e.commitTime):"",r.push(e)})}catch(e){}finally{s.value=!1}}function C(e){l.value=e.transactionId,t.value=!t.value,t.value&&(d.current=1,k())}return Object(n["onMounted"])(()=>{t.value=!1,f()}),(e,a)=>{const b=Object(n["resolveComponent"])("a-button"),p=Object(n["resolveComponent"])("a-table"),m=Object(n["resolveComponent"])("a-breadcrumb-item"),f=Object(n["resolveComponent"])("a-breadcrumb"),j=Object(n["resolveComponent"])("a-tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ne,[t.value?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:1},[Object(n["createVNode"])(f,{separator:">"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(m,{onClick:C,class:"text-active"},{default:Object(n["withCtx"])(()=>[oe]),_:1}),Object(n["createVNode"])(m,null,{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(`${e.$t("transactionId")} ${l.value}`),1)]),_:1})]),_:1}),Object(n["createVNode"])(p,{rowKey:"file",columns:Object(n["unref"])(c),"data-source":r,pagination:d,loading:s.value,onChange:O,class:"g-mt-8"},{bodyCell:Object(n["withCtx"])(({column:e,record:t})=>["path"===e.dataIndex?(Object(n["openBlock"])(),Object(n["createBlock"])(j,{key:0},{title:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.path),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(t.path),1)]),_:2},1024)):Object(n["createCommentVNode"])("",!0)]),_:1},8,["columns","data-source","pagination","loading"])],64)):(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:0,rowKey:"id",columns:Object(n["unref"])(o),"data-source":i,pagination:u,loading:s.value,onChange:O},{bodyCell:Object(n["withCtx"])(({column:e,record:t})=>["transactionId"===e.dataIndex?(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:0,type:"link",onClick:e=>C(t)},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.transactionId),1)]),_:2},1032,["onClick"])):Object(n["createCommentVNode"])("",!0)]),_:1},8,["columns","data-source","pagination","loading"]))])}}});a("6efd");const ie=R()(ce,[["__scopeId","data-v-3bc84b1a"]]);var re=ie;const le={class:"table-optinize"};var se=Object(n["defineComponent"])({__name:"Optimized",setup(e){const{t:t}=Object(v["b"])(),a=Object(n["shallowReactive"])([{title:t("commitTime"),dataIndex:"commitTime"},{title:t("optimizeType"),dataIndex:"optimizeType"},{title:t("duration"),dataIndex:"duration"},{title:t("input"),children:[{title:t("count"),dataIndex:"inputCount"},{title:t("size"),dataIndex:"inputSize"}]},{title:t("output"),children:[{title:t("count"),dataIndex:"outputCount"},{title:t("size"),dataIndex:"outputSize"}]}]),o=Object(n["reactive"])([]),c=Object(n["ref"])(!1),i=Object(n["reactive"])(Object(A["a"])()),r=Object(g["d"])(),l=r.query,s=Object(n["reactive"])({catalog:"",db:"",table:"",...l});async function u(){try{c.value=!0,o.length=0;const e=await Object(y["f"])({...s,page:i.current,pageSize:i.pageSize}),{list:t,total:a=0}=e;i.total=a,o.push(...[...t||[]].map(e=>{const{recordId:t,totalFilesStatBeforeCompact:a,totalFilesStatAfterCompact:n}=e;return{...e,recordId:t,commitTime:e.commitTime?Object(h["b"])(e.commitTime):"",duration:Object(h["e"])(e.duration||0),inputCount:null===a||void 0===a?void 0:a.fileCnt,inputSize:Object(h["a"])(null===a||void 0===a?void 0:a.totalSize),outputCount:null===n||void 0===n?void 0:n.fileCnt,outputSize:Object(h["a"])(null===n||void 0===n?void 0:n.totalSize)}}))}catch(e){}finally{c.value=!1}}function d({current:e=1,pageSize:t=25}=i){i.current=e,t!==i.pageSize&&(i.current=1),i.pageSize=t,u()}return Object(n["onMounted"])(()=>{u()}),(e,t)=>{const r=Object(n["resolveComponent"])("a-table");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",le,[Object(n["createVNode"])(r,{rowKey:"recordId",columns:Object(n["unref"])(a),"data-source":o,pagination:i,onChange:d,loading:c.value},null,8,["columns","data-source","pagination","loading"])])}}});a("c9d1");const ue=R()(se,[["__scopeId","data-v-5282d72d"]]);var de=ue,be=a("0613"),pe=Object(n["defineComponent"])({name:"Tables",components:{UDetails:P,UFiles:H,UOperations:ae,UTransactions:re,UOptimized:de},setup(){const e=Object(g["e"])(),t=Object(g["d"])(),a=Object(be["a"])(),o=Object(n["shallowReactive"])([{key:"Transactions"},{key:"Optimized"},{key:"Operations"}]),c=Object(n["reactive"])({activeKey:"Details",isSecondaryNav:!1,baseInfo:{tableType:"",tableName:"",createTime:"",size:"",file:"",averageFile:"",tableFormat:"",hasPartition:!1},detailLoaded:!1}),i=Object(n["computed"])(()=>"ICEBERG"===c.baseInfo.tableType),r=e=>{c.detailLoaded=!0,c.baseInfo={...e}},l=a=>{const n={...t.query};n.tab=a,e.replace({query:{...n}})},s=()=>{},u=()=>{},d=()=>{a.updateTablesMenu(!1)},b=()=>{c.isSecondaryNav=!1,e.back()};return Object(n["watch"])(()=>t.path,()=>{c.isSecondaryNav=!!(t.path.indexOf("create")>-1)},{immediate:!0}),Object(n["watch"])(()=>t.query,(e,t)=>{const{catalog:a,db:n,table:o}=e,{catalog:i,db:r,table:l}=t;c.activeKey=`${a}${n}${o}`===`${i}${r}${l}`?e.tab:"Details"}),Object(n["onMounted"])(()=>{var e;c.activeKey=(null===(e=t.query)||void 0===e?void 0:e.tab)||"Details"}),{...Object(n["toRefs"])(c),tabConfigs:o,store:a,isIceberg:i,editTable:s,delTable:u,setBaseDetailInfo:r,hideTablesMenu:d,goBack:b,onChangeTab:l}}});a("9638a");const me=R()(pe,[["render",j],["__scopeId","data-v-c0bffaee"]]);t["default"]=me},c9d1:function(e,t,a){"use strict";a("637a")},da03b:function(e,t,a){"use strict";a("ef8b")},dd8b:function(e,t,a){},e05d:function(e,t,a){"use strict";a("8ab6")},e4a8:function(e,t,a){"use strict";a("e762")},e762:function(e,t,a){},ef8b:function(e,t,a){}}]);