(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-900f26e8"],{"01f6":function(e,t,a){"use strict";a("4ff3")},"0f6a":function(e,t,a){},1439:function(e,t,a){"use strict";a("0f6a")},"49da":function(e,t,a){},"4ff3":function(e,t,a){},5738:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"h",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return s})),a.d(t,"i",(function(){return b})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return u}));var c=a("b32d");function n(){return c["a"].get("ams/v1/catalogs")}function i(e){return c["a"].get(`ams/v1/catalogs/${e}/databases`)}function o(e){const{catalog:t,db:a}=e;return c["a"].get(`ams/v1/catalogs/${t}/databases/${a}/tables`)}function l({catalog:e="",db:t="",table:a=""}){return c["a"].get(`ams/v1/tables/catalogs/${e}/dbs/${t}/tables/${a}/details`)}function r(e){const{catalog:t,db:a,table:n,page:i,pageSize:o}=e;return c["a"].get(`ams/v1/tables/catalogs/${t}/dbs/${a}/tables/${n}/partitions`,{params:{page:i,pageSize:o}})}function s(e){const{catalog:t,db:a,table:n,partition:i,page:o,pageSize:l}=e;return c["a"].get(`ams/v1/tables/catalogs/${t}/dbs/${a}/tables/${n}/partitions/${i}/files`,{params:{page:o,pageSize:l}})}function b(e){const{catalog:t,db:a,table:n,page:i,pageSize:o}=e;return c["a"].get(`ams/v1/tables/catalogs/${t}/dbs/${a}/tables/${n}/transactions`,{params:{page:i,pageSize:o}})}function d(e){const{catalog:t,db:a,table:n,transactionId:i,page:o,pageSize:l}=e;return c["a"].get(`ams/v1/tables/catalogs/${t}/dbs/${a}/tables/${n}/transactions/${i}/detail`,{params:{page:o,pageSize:l}})}function u(e){const{catalog:t,db:a,table:n,page:i,pageSize:o}=e;return c["a"].get(`ams/v1/tables/catalogs/${t}/dbs/${a}/tables/${n}/optimize`,{params:{page:i,pageSize:o}})}},"5efb7":function(e,t,a){"use strict";a("49da")},"94cc":function(e,t,a){},a7ba:function(e,t,a){"use strict";a("c95b")},b356:function(e,t,a){"use strict";function c(){const e=0,t=1,a=["25","50","100"],c=25;return{total:e,current:t,pageSize:c,pageSizeOptions:a,showQuickJumper:!0,showSizeChanger:!0,hideOnSinglePage:!1}}a.d(t,"a",(function(){return c}))},bfa3:function(e,t,a){"use strict";a.r(t);var c=a("7a23");const n={class:"tables-wrap"},i={key:0,class:"tables-content"},o={class:"g-flex-jsb"},l={class:"g-flex-col"},r={class:"g-flex"},s={class:"table-name g-text-nowrap"},b={class:"create-time"},d={class:"table-info g-flex-ac"},u={class:"text-color"},p={class:"text-color"},m={class:"text-color"},O={class:"content"};function j(e,t,a,j,f,g){const v=Object(c["resolveComponent"])("a-divider"),h=Object(c["resolveComponent"])("u-details"),y=Object(c["resolveComponent"])("a-tab-pane"),k=Object(c["resolveComponent"])("u-files"),C=Object(c["resolveComponent"])("a-tabs"),x=Object(c["resolveComponent"])("router-view");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[e.isSecondaryNav?(Object(c["openBlock"])(),Object(c["createBlock"])(x,{key:1,onGoBack:e.goBack},null,8,["onGoBack"])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",i,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("span",s,Object(c["toDisplayString"])(e.baseInfo.tableName),1),Object(c["createElementVNode"])("span",b,Object(c["toDisplayString"])(`${e.$t("createTime")}: ${e.baseInfo.createTime}`),1)]),Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("p",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(`${e.$t("table")}${e.$t("size")}`)+": ",1),Object(c["createElementVNode"])("span",u,Object(c["toDisplayString"])(e.baseInfo.size),1)]),Object(c["createVNode"])(v,{type:"vertical"}),Object(c["createElementVNode"])("p",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("file"))+": ",1),Object(c["createElementVNode"])("span",p,Object(c["toDisplayString"])(e.baseInfo.file),1)]),Object(c["createVNode"])(v,{type:"vertical"}),Object(c["createElementVNode"])("p",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("averageFileSize"))+": ",1),Object(c["createElementVNode"])("span",m,Object(c["toDisplayString"])(e.baseInfo.averageFile),1)])])])]),Object(c["createElementVNode"])("div",O,[Object(c["createVNode"])(C,{activeKey:e.activeKey,"onUpdate:activeKey":t[0]||(t[0]=t=>e.activeKey=t),destroyInactiveTabPane:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(y,{key:"Details",tab:"Details"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(h,{onSetBaseDetailInfo:e.setBaseDetailInfo},null,8,["onSetBaseDetailInfo"])]),_:1}),Object(c["createVNode"])(y,{key:"Files",tab:"Files"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(k,{hasPartition:e.baseInfo.hasPartition},null,8,["hasPartition"])]),_:1}),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.tabConfigs,e=>(Object(c["openBlock"])(),Object(c["createBlock"])(y,{key:e.key,tab:""+e.key},{default:Object(c["withCtx"])(()=>[(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["resolveDynamicComponent"])("U"+e.key)))]),_:2},1032,["tab"]))),128))]),_:1},8,["activeKey"])])]))])}var f=a("47e2"),g=a("6c02"),v=a("5738"),h=a("d257");const y={class:"table-detail g-flex"},k={class:"left-content"},C={key:0,class:"table-attrs"},x={class:"attr-title"},w={key:1,class:"table-attrs"},I={class:"attr-title"},S={class:"table-attrs"},N={class:"attr-title"},z={class:"right-content"},T={key:0,class:"table-attrs"},V={class:"attr-title"},B={class:"table-attrs"},$={class:"attr-title"},E={class:"table-attrs"},M={class:"attr-title"};var D=Object(c["defineComponent"])({__name:"Details",emits:["setBaseDetailInfo"],setup(e,{emit:t}){const{t:a}=Object(f["b"])(),n=Object(g["c"])(),i=Object(c["computed"])(()=>({...n.query}));Object(c["watch"])(()=>n.query,e=>{(null===e||void 0===e?void 0:e.catalog)&&r()});const o={averageFile:"Average File Size",file:"File",lastCommitTime:"Last Commit Time",size:"Size",maxEventTime:"Max Event Time"},l=Object(c["reactive"])({detailLoading:!1,baseDetailInfo:{tableName:"",createTime:"",size:"",file:"",averageFile:"",hasPartition:!1},pkList:[],partitionColumnList:[],properties:[],changeMetrics:[],baseMetrics:[],schema:[]}),r=async()=>{try{const{catalog:t,db:a,table:c}=i.value;if(!t||!a||!c)return;l.detailLoading=!0;const n=await Object(v["g"])({...i.value}),{pkList:r=[],partitionColumnList:s=[],properties:b,changeMetrics:d,schema:u,createTime:p,tableIdentifier:m,baseMetrics:O}=n;l.baseDetailInfo={...O,tableName:(null===m||void 0===m?void 0:m.tableName)||"",createTime:p?Object(h["b"])(p):"",hasPartition:!!s.length},l.pkList=r||[],l.partitionColumnList=s||[],l.schema=u||[],l.changeMetrics=Object.keys(o||{}).map(e=>({metric:o[e],value:"lastCommitTime"===e?(d||{})[e]?Object(h["b"])((d||{})[e]):"":(d||{})[e]})).filter(e=>e.value),l.baseMetrics=Object.keys(o||{}).map(e=>({metric:o[e],value:"lastCommitTime"===e?(O||{})[e]?Object(h["b"])((O||{})[e]):"":(O||{})[e]})),l.properties=Object.keys(b||{}).map(e=>({key:e,value:b[e]})),e()}catch(a){}finally{l.detailLoading=!1}function e(){t("setBaseDetailInfo",l.baseDetailInfo)}};Object(c["onMounted"])(()=>{r()});const s=Object(c["shallowReactive"])([{title:a("field"),dataIndex:"field",width:"30%"},{title:a("type"),dataIndex:"type",width:"30%"},{title:a("description"),dataIndex:"comment",ellipsis:!0}]),b=Object(c["shallowReactive"])([{title:a("field"),dataIndex:"field",width:"30%"},{title:a("sourceField"),dataIndex:"sourceField",width:"30%"},{title:a("transform"),dataIndex:"transform",ellipsis:!0}]),d=Object(c["shallowReactive"])([{title:a("metric"),dataIndex:"metric",width:"50%",ellipsis:!0},{title:a("value"),dataIndex:"value",ellipsis:!0}]),u=Object(c["shallowReactive"])([{title:a("key"),dataIndex:"key",width:"50%",ellipsis:!0},{title:a("value"),dataIndex:"value",ellipsis:!0}]);return(e,t)=>{const a=Object(c["resolveComponent"])("a-table"),n=Object(c["resolveComponent"])("u-loading");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",y,[Object(c["createElementVNode"])("div",k,[l.pkList&&l.pkList.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",C,[Object(c["createElementVNode"])("p",x,Object(c["toDisplayString"])(e.$t("primaryKey")),1),Object(c["createVNode"])(a,{rowKey:"field",columns:Object(c["unref"])(s),"data-source":l.pkList,pagination:!1},null,8,["columns","data-source"])])):Object(c["createCommentVNode"])("",!0),l.partitionColumnList&&l.partitionColumnList.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",w,[Object(c["createElementVNode"])("p",I,Object(c["toDisplayString"])(e.$t("partitionKey")),1),Object(c["createVNode"])(a,{rowKey:"field",columns:Object(c["unref"])(b),"data-source":l.partitionColumnList,pagination:!1},null,8,["columns","data-source"])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",S,[Object(c["createElementVNode"])("p",N,Object(c["toDisplayString"])(e.$t("schema")),1),Object(c["createVNode"])(a,{rowKey:"field",columns:Object(c["unref"])(s),"data-source":l.schema,pagination:!1},null,8,["columns","data-source"])])]),Object(c["createElementVNode"])("div",z,[l.changeMetrics&&l.changeMetrics.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",T,[Object(c["createElementVNode"])("p",V,Object(c["toDisplayString"])(e.$t("changeTableMetrics")),1),Object(c["createVNode"])(a,{columns:Object(c["unref"])(d),"data-source":l.changeMetrics,pagination:!1},null,8,["columns","data-source"])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",B,[Object(c["createElementVNode"])("p",$,Object(c["toDisplayString"])(e.$t("baseTableMetrics")),1),Object(c["createVNode"])(a,{columns:Object(c["unref"])(d),"data-source":l.baseMetrics,pagination:!1},null,8,["columns","data-source"])]),Object(c["createElementVNode"])("div",E,[Object(c["createElementVNode"])("p",M,Object(c["toDisplayString"])(e.$t("properties")),1),Object(c["createVNode"])(a,{columns:Object(c["unref"])(u),"data-source":l.properties,pagination:!1},null,8,["columns","data-source"])])]),l.detailLoading?(Object(c["openBlock"])(),Object(c["createBlock"])(n,{key:0})):Object(c["createCommentVNode"])("",!0)])}}}),_=(a("1439"),a("d959")),F=a.n(_);const K=F()(D,[["__scopeId","data-v-270e7bcb"]]);var L=K,P=a("b356");const R={class:"table-partitons"},U=Object(c["createTextVNode"])("All");var q=Object(c["defineComponent"])({__name:"Files",props:{hasPartition:{type:Boolean}},setup(e){const t=e,a=Object(c["ref"])(!1),{t:n}=Object(f["b"])(),i=Object(c["shallowReactive"])([{title:n("partition"),dataIndex:"partition",ellipsis:!0},{title:n("fileCount"),dataIndex:"fileCount",width:120,ellipsis:!0},{title:n("size"),dataIndex:"size",width:120,ellipsis:!0},{title:n("lastCommitTime"),dataIndex:"lastCommitTime",width:200,ellipsis:!0}]),o=Object(c["shallowReactive"])([{title:n("file"),dataIndex:"file",ellipsis:!0},{title:n("type"),dataIndex:"fileType",width:120,ellipsis:!0},{title:n("size"),dataIndex:"size",width:120,ellipsis:!0},{title:n("commitTime"),dataIndex:"commitTime",width:200,ellipsis:!0},{title:n("commitId"),dataIndex:"commitId",width:200,ellipsis:!0},{title:n("path"),dataIndex:"path",ellipsis:!0}]),l=Object(c["reactive"])([]),r=Object(c["reactive"])([]),s=Object(c["ref"])(""),b=Object(c["ref"])(!1),d=Object(c["reactive"])(Object(P["a"])()),u=Object(c["reactive"])(Object(P["a"])()),p=Object(g["c"])(),m=p.query,O=Object(c["reactive"])({catalog:"",db:"",table:"",...m});async function j(){try{b.value=!0,l.length=0;const e=await Object(v["f"])({...O,page:d.current,pageSize:d.pageSize}),{list:t,total:a}=e;d.total=a,(t||[]).forEach(e=>{e.lastCommitTime=e.lastCommitTime?Object(h["b"])(e.lastCommitTime):"",l.push(e)})}catch(e){}finally{b.value=!1}}function y({current:e=1,pageSize:c=25}){!a.value&&t.hasPartition?(d.current=e,c!==d.pageSize&&(d.current=1),d.pageSize=c):(u.current=e,c!==u.pageSize&&(u.current=1),u.pageSize=c),k()}function k(){t.hasPartition?a.value?C():j():C()}async function C(){try{r.length=0,b.value=!0;const e={...O,partition:t.hasPartition?encodeURIComponent(s.value):null,page:u.current,pageSize:u.pageSize},a=await Object(v["e"])(e),{list:c,total:n}=a;u.total=n,(c||[]).forEach(e=>{e.commitTime=e.commitTime?Object(h["b"])(e.commitTime):"",r.push(e)})}catch(e){}finally{b.value=!1}}function x(e){s.value=e.partition,a.value=!a.value,a.value&&(u.current=1,C())}return Object(c["onMounted"])(()=>{a.value=!1,t.hasPartition?j():C()}),(t,n)=>{const p=Object(c["resolveComponent"])("a-button"),m=Object(c["resolveComponent"])("a-table"),O=Object(c["resolveComponent"])("a-breadcrumb-item"),j=Object(c["resolveComponent"])("a-breadcrumb");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",R,[!a.value&&e.hasPartition?(Object(c["openBlock"])(),Object(c["createBlock"])(m,{key:0,rowKey:"partiton",columns:Object(c["unref"])(i),"data-source":l,pagination:d,onChange:y,loading:b.value},{bodyCell:Object(c["withCtx"])(({column:e,record:t})=>["partition"===e.dataIndex?(Object(c["openBlock"])(),Object(c["createBlock"])(p,{key:0,type:"link",onClick:e=>x(t)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.partition),1)]),_:2},1032,["onClick"])):Object(c["createCommentVNode"])("",!0)]),_:1},8,["columns","data-source","pagination","loading"])):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[e.hasPartition?(Object(c["openBlock"])(),Object(c["createBlock"])(j,{key:0,separator:">"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(O,{onClick:x,class:"text-active"},{default:Object(c["withCtx"])(()=>[U]),_:1}),Object(c["createVNode"])(O,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(`${t.$t("partition")} ${s.value}`),1)]),_:1})]),_:1})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(m,{rowKey:"file",columns:Object(c["unref"])(o),"data-source":r,pagination:u,onChange:y,class:"g-mt-8",loading:b.value},null,8,["columns","data-source","pagination","loading"])],64))])}}});a("cfc5");const H=F()(q,[["__scopeId","data-v-549b17d6"]]);var A=H;const G={class:"table-transactions"},J=Object(c["createTextVNode"])("All");var Q=Object(c["defineComponent"])({__name:"Transactions",setup(e){const t=Object(c["ref"])(!1),{t:a}=Object(f["b"])(),n=Object(c["shallowReactive"])([{title:a("transactionId"),dataIndex:"transactionId",ellipsis:!0},{title:a("fileCount"),dataIndex:"fileCount"},{title:a("size"),dataIndex:"fileSize"},{title:a("commitTime"),dataIndex:"commitTime"},{title:a("snapshotId"),dataIndex:"snapshotId",ellipsis:!0}]),i=Object(c["shallowReactive"])([{title:a("file"),dataIndex:"file",ellipsis:!0},{title:a("partition"),dataIndex:"partition",width:120},{title:a("fileType"),dataIndex:"type",width:120},{title:a("size"),dataIndex:"size",width:120},{title:a("commitTime"),dataIndex:"commitTime",width:200,ellipsis:!0},{title:a("path"),dataIndex:"path",ellipsis:!0}]),o=Object(c["reactive"])([]),l=Object(c["reactive"])([]),r=Object(c["ref"])(""),s=Object(c["ref"])(!1),b=Object(c["reactive"])(Object(P["a"])()),d=Object(c["reactive"])(Object(P["a"])()),u=Object(g["c"])(),p=u.query,m=Object(c["reactive"])({catalog:"",db:"",table:"",...p});async function O(){try{s.value=!0,o.length=0;const e=await Object(v["i"])({...m,page:b.current,pageSize:b.pageSize}),{list:t=[],total:a}=e;t.forEach(e=>{e.commitTime=e.commitTime?Object(h["b"])(e.commitTime):"",o.push(e)}),b.total=a}catch(e){}finally{s.value=!1}}function j({current:e=1,pageSize:a=25}){t.value?(d.current=e,a!==d.pageSize&&(d.current=1),d.pageSize=a):(b.current=e,a!==b.pageSize&&(b.current=1),b.pageSize=a),y()}function y(){t.value?k():O()}async function k(){try{l.length=0,s.value=!0;const e={...m,transactionId:r.value,page:d.current,pageSize:d.pageSize},t=await Object(v["c"])(e),{list:a,total:c}=t;d.total=c,a.forEach(e=>{e.commitTime=e.commitTime?Object(h["b"])(e.commitTime):"",l.push(e)})}catch(e){}finally{s.value=!1}}function C(e){r.value=e.transactionId,t.value=!t.value,t.value&&(d.current=1,k())}return Object(c["onMounted"])(()=>{t.value=!1,O()}),(e,a)=>{const s=Object(c["resolveComponent"])("a-button"),u=Object(c["resolveComponent"])("a-table"),p=Object(c["resolveComponent"])("a-breadcrumb-item"),m=Object(c["resolveComponent"])("a-breadcrumb");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",G,[t.value?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createVNode"])(m,{separator:">"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(p,{onClick:C,class:"text-active"},{default:Object(c["withCtx"])(()=>[J]),_:1}),Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(`${e.$t("transactionId")} ${r.value}`),1)]),_:1})]),_:1}),Object(c["createVNode"])(u,{rowKey:"file",columns:Object(c["unref"])(i),"data-source":l,pagination:d,class:"g-mt-8"},null,8,["columns","data-source","pagination"])],64)):(Object(c["openBlock"])(),Object(c["createBlock"])(u,{key:0,rowKey:"id",columns:Object(c["unref"])(n),"data-source":o,pagination:b,onChange:j},{bodyCell:Object(c["withCtx"])(({column:e,record:t})=>["transactionId"===e.dataIndex?(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:0,type:"link",onClick:e=>C(t)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.transactionId),1)]),_:2},1032,["onClick"])):Object(c["createCommentVNode"])("",!0)]),_:1},8,["columns","data-source","pagination"]))])}}});a("a7ba");const Y=F()(Q,[["__scopeId","data-v-72ba818a"]]);var W=Y;const X={class:"table-optinize"};var Z=Object(c["defineComponent"])({__name:"Optimized",setup(e){const{t:t}=Object(f["b"])(),a=Object(c["shallowReactive"])([{title:t("startTime"),dataIndex:"startTime"},{title:t("duration"),dataIndex:"duration"},{title:t("input"),children:[{title:t("count"),dataIndex:"inputCount"},{title:t("size"),dataIndex:"inputSize"}]},{title:t("output"),children:[{title:t("count"),dataIndex:"outputCount"},{title:t("size"),dataIndex:"outputSize"}]}]),n=Object(c["reactive"])([]),i=Object(c["ref"])(!1),o=Object(c["reactive"])(Object(P["a"])()),l=Object(g["c"])(),r=l.query,s=Object(c["reactive"])({catalog:"",db:"",table:"",...r});async function b(){try{i.value=!0,n.length=0;const e=await Object(v["d"])({...s,page:o.current,pageSize:o.pageSize}),{list:t,total:a=0}=e;o.total=a,n.push(...[...t||[]].map(e=>{const{recordId:t,totalFilesStatBeforeCompact:a,totalFilesStatAfterCompact:c}=e;return{recordId:t,startTime:e.commitTime?Object(h["b"])(e.commitTime):"",duration:Object(h["e"])(e.duration||0),inputCount:null===a||void 0===a?void 0:a.fileCnt,inputSize:Object(h["a"])(null===a||void 0===a?void 0:a.totalSize),outputCount:null===c||void 0===c?void 0:c.fileCnt,outputSize:Object(h["a"])(null===c||void 0===c?void 0:c.totalSize)}}))}catch(e){}finally{i.value=!1}}function d({current:e=1,pageSize:t=25}=o){o.current=e,t!==o.pageSize&&(o.current=1),o.pageSize=t,b()}return Object(c["onMounted"])(()=>{b()}),(e,t)=>{const l=Object(c["resolveComponent"])("a-table");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",X,[Object(c["createVNode"])(l,{rowKey:"recordId",columns:Object(c["unref"])(a),"data-source":n,pagination:o,onChange:d,loading:i.value},null,8,["columns","data-source","pagination","loading"])])}}});a("01f6");const ee=F()(Z,[["__scopeId","data-v-6509548c"]]);var te=ee,ae=a("0613"),ce=Object(c["defineComponent"])({name:"Tables",components:{UDetails:L,UFiles:A,UTransactions:W,UOptimized:te},setup(){const e=Object(g["d"])(),t=Object(g["c"])(),a=Object(ae["a"])(),n=Object(c["shallowReactive"])([{key:"Transactions"},{key:"Optimized"}]),i=Object(c["reactive"])({activeKey:"Details",isSecondaryNav:!1,baseInfo:{tableName:"",createTime:"",size:"",file:"",averageFile:"",hasPartition:!1}}),o=e=>{i.baseInfo={...e}},l=()=>{},r=()=>{},s=()=>{a.updateTablesMenu(!1)},b=()=>{i.isSecondaryNav=!1,e.back()};return Object(c["watch"])(()=>t.path,()=>{i.isSecondaryNav=!!(t.path.indexOf("create")>-1)},{immediate:!0}),Object(c["watch"])(()=>t.query,()=>{i.activeKey="Details"}),{...Object(c["toRefs"])(i),tabConfigs:n,store:a,editTable:l,delTable:r,setBaseDetailInfo:o,hideTablesMenu:s,goBack:b}}});a("5efb7");const ne=F()(ce,[["render",j],["__scopeId","data-v-27b2f047"]]);t["default"]=ne},c95b:function(e,t,a){},cfc5:function(e,t,a){"use strict";a("94cc")},d257:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"f",(function(){return n})),a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return r}));const c=e=>{if(0===e)return"0";if(null===e||void 0===e)return"未知";const t=1024;return e<t?e+"B":e<Math.pow(t,2)?(e/t).toFixed(2)+"KB":e<Math.pow(t,3)?(e/Math.pow(t,2)).toFixed(2)+"MB":e<Math.pow(t,4)?(e/Math.pow(t,3)).toFixed(2)+"G":(e/Math.pow(t,4)).toFixed(2)+"T"},n=e=>{if(0===e)return"0";const t=1024;return e<t?e+"MB":e<Math.pow(t,2)?(e/t).toFixed(2)+"G":(e/Math.pow(t,2)).toFixed(2)+"T"},i=(e,t)=>{if(null===e||void 0===e||isNaN(e))return"";const a=1e3,c=60*a,n=60*c,o=24*n;if(0===e)return"0 ms";if(e<a)return(t?"0 min ":"")+e+" ms";if(e>=a&&e<c){const c=Math.floor(e/a);return(t?"0 min ":"")+(c?c+" s":"")}if(e>=c&&e<n){const t=Math.floor(e/c),n=Math.floor((e-t*c)/a);return e%c===0?e/c+" min":t+" min "+(n?n+" s":"")}if(e%n===0)return e/n+" h";if(e>=n&&e<o){const t=Math.floor(e/n);return t+" h "+i(e-t*n,!0)}if(e%o===0)return e/o+" d";const l=Math.floor(e/o);return l+" d "+i(e-l*o,!0)},o=e=>{if(null===e||void 0===e||isNaN(e))return"";const t=1e3,a=60*t,c=60*a,n=24*c;return 0===e?"0 ms":e<=c?Math.floor(e/t)+"s":e>c&&e<=n?Math.floor(e/a)+"min":e>n&&e<=30*n?Math.floor(e/c)+"h":">30d"},l=(()=>{const e=function(e){const t=e||"";return t.length<2?"0"+t:t},t={yyyy:e=>e.getFullYear(),MM:t=>e(String(t.getMonth()+1)),dd:t=>e(String(t.getDate())),HH:t=>e(String(t.getHours())),mm:t=>e(String(t.getMinutes())),ss:t=>e(String(t.getSeconds()))},a=new RegExp(Object.keys(t).join("|"),"g");return function(e,c="yyyy-MM-dd  HH:mm:ss"){if(!e)return"";let n=+e;return n=new Date(n),c.replace(a,e=>t[e](n))}})();function r(e,t=300){let a;return(...c)=>{clearTimeout(a),a=setTimeout(()=>{e.apply(this,c)},t)}}}}]);