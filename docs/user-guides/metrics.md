---
title: "Metrics"
url: metrics
aliases:
    - "user-guides/metrics"
menu:
    main:
        parent: User Guides
        weight: 500
---
# Metrics
Amoro provides both table-level and platform-level metrics to help users understand the runtime status of the current table.
## Table metrics
The Amoro Tables details page provides multiple tabs to display the status of the table from various dimensions, mainly including:

| **Tab Name**   | **Description**                                               |
| ------------ | ------------------------------------------------------------ |
| Details      | Display the table's schema, primary key configuration, partition configuration, properties; as well as the metric information of the files stored in ChangeStore and BaseStore, including the number of files and average file size, as well as the latest submission time of the files. |
| Transactions | The displayed transaction list does not include snapshots generated by Self-optimizing.  |
| Optimized    | Display all the historical Optimize records of the table, each record shows the number and average size of files before and after Optimize, as well as the execution time of each Optimize. |
| Operations   | Display the current table's DDL historical change records. |

![table-details](../images/admin/table_metrics.png)

![table-optimize-history](../images/admin/table_optimizer_history.png)

## Self-optimizing metrics
The Optimizers page displays platform-level Self-optimizing information, including the total amount and usage of resources under different groups, as well as the status and resource usage of all tables that have executed Self-optimizing under the group.
![optimizing-metrics](../images/admin/optimizer_metrics.png)


- **Optimizing Status**: The current optimizing status of the table, including minor, major, full, idle, and pending. 
- **Duration**: The duration of the current status. 
- **File Count**: The total number of files involved in the current Self-optimizing, including base, insert, eq-delete, and pos-delete file types. 
- **File Size**: The total size of files involved in the current Self-optimizing. 
- **Quota**: The proportion of self-optimizing execution time executed per unit time. 
- **Quota Occupation**: The actual Quota used for self-optimizing during execution of the table in the last hour. When optimizer resources are sufficient and the table requires more resources for self-optimizing, this value will be greater than 100%. When resources are scarce or the table requires fewer resources for self-optimizing, this value will be less than 100%.


# Metrics Reporter

Amoro provides metric reporters by plugin mechanism to connect to  external metric systems.

All metric-reporter plugins are configured in `$AMORO_CONF_DIR/plugins/metric-repoters.yaml` .

The configuration format of the plug-in is:

```yaml

metric-reporters:
  - name:                 # the unified plugin name.
    enabled:              # if this plugin is enabled, default is true.
    properties:           # a map defines properties of plugin.
```

Currently, there is only one reporter is available.

## Prometheus Exporter

By enable the `prometheus-exporter` plugin, the AMS will start a prometheus http exporter server.


```yaml
metric-reporters:
  - name: prometheus-exporter            # configs for prometheus exporter
    enabled: true
    properties:
       port: 9090                        # the port that the prometheus-exporter listens on.
```

You can add a scrape job in your prometheus configs

```yaml
# Your prometheus configs file.
scrape_configs:
  - job_name: 'amoro-exporter'
    scrape_interval: 15s
    static_configs:
      - targets: ['localhost:9090']  # The host and port that you configured in Amoro plugins configs file.
```


